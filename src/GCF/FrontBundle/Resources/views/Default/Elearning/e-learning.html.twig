{% extends '@GCFFront/base.html.twig' %}

{% block title %} GCF - {{ 'menu.E-learning'|trans }} {% endblock %}

{% block pageTitle %} {{ 'menu.E-learning'|trans }} {% endblock %}
{% block breadcrump %} <a href="{{ path('gcf_front_homepage') }}">{{ 'menu.Home'|trans }}</a> / <a > {{ 'menu.E-learning'|trans }}</a>  {% endblock %}

{% block body %}
    <style>
        .navigation_elearning{
            margin-bottom: 40px;
        }
        .navigation_elearning li{
            font-weight: 600;cursor: pointer;
        }
        .navigation_elearning a{
            color: #22AA86;
        }
        #legislatives_tab_container{
            display: none;
        }
        .listing{
            box-shadow: 0 0 10px #ccc inset;
            padding: 10px;
            margin-bottom: 30px;
            min-height: 240px;
            position: relative;
        }
        .listing h4{
            background: #22AA86;
            color: #fff;
            font-weight: 400;
            padding: 8px 15px;
            margin-top: 0;
            width: 70%;
            margin-left: 30%;
        }
        .listing h4 a{
             color: inherit;
            text-decoration: none;
        }
        .listing h4 a:hover{
            color: inherit;
            text-decoration: none;
        }

        .listing a{
            margin-bottom: 10px;
        }
        .type img{
            float: left;
            width: 27%;
            height: 83px;
            padding: 10px 5px 0 0;
            cursor: pointer;
            top: 0;
            position: absolute;
        }
        .listing > p{
            width: 70%;
            margin-left: 30%;
            padding: 5px 0;
        }
        #technique_tab, #legislatives_tab{
            padding:0;
        }
        #model_video{
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0,0,0,0.7);
            display: none;
            z-index: 9999;
        }
        #close_panel{
            position: absolute;
            top: 20px;
            right: 20px;
            color: white;
            cursor: pointer;
        }
        #legislatives_tab_container .card-footer{
            background: #333;
            color:white;
            height: max-content;
            position: absolute;
            bottom: 10px;
            width: calc(100% - 20px);
        }
        #legislatives_tab_container .card-footer .card-text{
            font-size: 16px;
            color: white;
            line-height: 30px;
            margin-right: 20px;
            margin-bottom: 0;
        }
        #legislatives_tab_container .card-footer .card-text a{
            text-decoration: none;
            color:inherit;
        }
        #legislatives_tab_container .card-footer .card-text a:hover{
            text-decoration: none;
            color:inherit;
        }
    </style>


    <!-- <h1>Page E-learning</h1> -->

    <div>
        <div class="col-md-12">
            <ul class="nav nav-tabs navigation_elearning">
                <li class="active" id="technique_tab"><a >Technique</a></li>
                <li class="" id="legislatives_tab"><a >Législatives</a></li>
            </ul>
        </div>

        <div id="technique_tab_container">

            {% for Technique in Techniques %}
                <div class="col-md-12 col-xs-12"
                     style="background: #f7f7f7;border: solid white; padding-top: 10px; padding-bottom:10px ">
                    <div class="row">
                        <div class="col-md-5" style="padding: 0 ">
                            <iframe   style="max-width: 100%;max-height: 100%;width: 100%; height:200px;" src="{{ Technique.youtube }}?rel=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
                        </div>

                        <div class="col-md-7">
                            <h4 class="name">{{ Technique.Nom }}</h4>
                            <h6 class="name"><strong>Date :</strong> 2009</h6>
                            <p class="description" style="font-size: 13px;">{{ Technique.Description|raw|slice(0, 62) }}</p>
                        </div>
                    </div>
                </div>

            {% endfor %}

        </div>

        <div id="legislatives_tab_container">

            {% for Legislative in Legislatives %}

                <div class="col-md-6 col-sm-6 col-xs-12">
                    <div class="listing">
                        <h4><a target="_blank" href="{{ Legislative.Fichier }}">{{ Legislative.Nom }}</a></h4>
                        <div class="type">
                            <a target="_blank" href="{{ Legislative.Fichier }}">
                                <img src="{{ Legislative.Image|replace({'app_dev.php': ''}) }}" title="Lire le document">
                            </a>
                        </div>
                        <p><strong>Date de publication :</strong> 2018</p>
                        <div class="details" style="margin-top: 20px;">
                            <p><strong>Description : </strong>{{ Legislative.Description|raw|slice(0, 62) }}</p>
                            <p><strong>Mots clés :</strong>
                                {% for keyword in Legislative.keyword %}
                                {{ keyword.label }},
                                {% endfor %}
                            </p>
                        </div>
                        <div class="card-footer">
                            <p class="card-text text-right"><a target="_blank" href="{{ Legislative.Fichier }}">Acceder à ce document</a></p>
                        </div>
                    </div>
                </div>
            {% endfor %}

        </div>
    </div>


    <div id="model_video">
        <i id="close_panel" class="fa fa-times fa-2x" aria-hidden="true" ></i>
    </div>

{% endblock %}

{% block javascripts %}
    <script>
        jQuery('#technique_tab').click(function () {

            jQuery('#technique_tab_container').css('display', 'block');
            jQuery('#legislatives_tab_container').css('display', 'none');
            jQuery('#technique_tab').addClass('active');
            jQuery('#legislatives_tab').removeClass('active');

        });

        jQuery('#legislatives_tab').click(function () {

            jQuery('#legislatives_tab_container').css('display', 'block');
            jQuery('#technique_tab_container').css('display', 'none');
            jQuery('#legislatives_tab').addClass('active');
            jQuery('#technique_tab').removeClass('active');

        });
    </script>

    <script>
        jQuery('#open_modal_read_video').click(function () {
            jQuery('#model_video').css('display', 'block');
        });
        jQuery('#close_panel').click(function () {
            jQuery('#model_video').css('display', 'none');
        });
    </script>
{% endblock %}