{% extends '@GCFFront/base.html.twig' %}

{% block title %} GCF - {{ 'menu.E-learning'|trans }} {% endblock %}

{% block pageTitle %} {{ 'menu.E-learning'|trans }} {% endblock %}
{% block breadcrump %} <a href="{{ path('gcf_front_homepage') }}">{{ 'menu.Home'|trans }}</a> / <a > {{ 'menu.E-learning'|trans }}</a>  {% endblock %}

{% block body %}
    <style>
        .navigation_elearning{
            margin-bottom: 40px;
        }
        .navigation_elearning li{
            font-weight: 600;cursor: pointer;
        }
        .navigation_elearning a{
            color: #22AA86;
        }
        #legislatives_tab_container{
            display: none;
        }
        .listing{
            box-shadow: 0 0 10px #ccc inset;
            padding: 10px;
            margin-bottom: 30px;
            min-height: 240px;
            position: relative;
        }
        .listing h4{
            background: #22AA86;
            color: #fff;
            font-weight: 400;
            padding: 8px 15px;
            margin-top: 0;
            width: 70%;
            margin-left: 30%;
        }
        .listing h4 a{
             color: inherit;
            text-decoration: none;
        }
        .listing h4 a:hover{
            color: inherit;
            text-decoration: none;
        }

        .listing a{
            margin-bottom: 10px;
        }
        .type img{
            float: left;
            width: 27%;
            height: 83px;
            padding: 10px 5px 0 0;
            cursor: pointer;
            top: 0;
            position: absolute;
        }
        .listing > p{
            width: 70%;
            margin-left: 30%;
            padding: 5px 0;
        }
        #technique_tab, #legislatives_tab{
            padding:0;
        }
         .card-footer{
            background: #333;
            color:white;
            height: max-content;
            position: absolute;
            bottom: 10px;
            width: calc(100% - 20px);
        }
         .card-footer .card-text{
            font-size: 16px;
            color: white;
            line-height: 30px;
            margin-right: 20px;
            margin-bottom: 0;
        }
         .card-footer .card-text a{
            text-decoration: none;
            color:inherit;
        }
        .card-footer .card-text a:hover{
            text-decoration: none;
            color:inherit;
        }

        .technique__info__container{
            height: max-content;
            min-height: 160px;
            max-height: 160px;
        }
        ._tab__container{
            display: none;
        }
    </style>


    <!-- <h1>Page E-learning</h1> -->

    <div>
        <div class="col-md-12">
            <ul class="nav nav-tabs navigation_elearning">
            {% for key, elearningCategorie in elearningCategories %}
                {% if key == 0 %}
                    <li class="active header__tabs" id="{{ elearningCategorie.nom }}_tab"><a href="#{{ elearningCategorie.nom }}">{{ elearningCategorie.nom }}</a></li>
                {% else %}
                    <li class="header__tabs" id="{{ elearningCategorie.nom }}_tab"><a href="#{{ elearningCategorie.nom }}">{{ elearningCategorie.nom }}</a></li>
                {% endif %}
            {% endfor %}
            </ul>
        </div>


        {% for key, elearningCategorie in elearningCategories %}
            <div id="{{ elearningCategorie.nom }}_tab_container" class="_tab__container">
                {% if key == 0 %}
                    <style>
                        #{{ elearningCategorie.nom }}_tab_container{
                            display:block;
                        }
                    </style>
                {% endif %}
            {% for learning in elearning %}
                {% if learning.fichier != '' and learning.catLearning.nom == elearningCategorie.nom %}
                    <div class="col-md-6 col-sm-6 col-xs-12">
                        <div class="listing">
                            <h4><a target="_blank" href="{{ learning.Fichier }}">{{ learning.Nom }}</a></h4>
                            <div class="type">
                                <a target="_blank" href="{{ learning.Fichier }}">
                                <img src="{{ learning.Image|replace({'app_dev.php': ''}) }}" title="Lire le document">

                                <span style="position: absolute; top: 10px; left: 12px; color: red; right: 10px; font-size: 12px; font-weight: 600;">PDF</span>
                                </a>
                            </div>
                            <p><strong>Date de publication :</strong> 2018</p>
                            <div class="details" style="margin-top: 20px;">
                                <p><strong>Description : </strong>{{ learning.Description|raw|slice(0, 62) }}</p>
                                <p><strong>Mots clés :</strong>
                                {% for keyword in learning.keyword %}
                                    {{ keyword.label }},
                                {% endfor %}
                                </p>
                            </div>
                            <div class="card-footer">
                                <p class="card-text text-right"><a target="_blank" href="{{ learning.Fichier }}">{{ 'elearningPage.Access to this file'|trans }}</a></p>
                            </div>
                        </div>
                    </div>
                    {% elseif learning.youtube != '' and learning.catLearning.nom == elearningCategorie.nom %}

                        {% if learning.Nom %}
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <div class="technique__video__container">
                                    <iframe style="max-width: 100%;max-height: 100%;width: 100%; height:200px;" src="{{ learning.youtube }}?rel=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
                                </div>
                                <div class="technique__info__container">
                                    <h4 class="name">{{ learning.Nom }}</h4>
                                    <p class="name"><strong>Date :</strong> 2009</p>
                                    <p class="description" title="{{ learning.Description }}">{{ learning.Description|raw|slice(0, 124) }}...</p>
                                    <p ><strong>Mot clés :</strong></p>
                                </div>
                            </div>
                        {% endif %}
                {% endif %}
            {% endfor %}

            </div>

        {% endfor %}

        {#<div id="technique_tab_container">#}

            {#{% for Technique in Techniques %}#}
                {#<div class="col-md-12 col-xs-12"#}
                     {#style="background: #f7f7f7;border: solid white; padding-top: 10px; padding-bottom:10px ">#}
                    {#<div class="row">#}
                        {#<div class="col-md-5" style="padding: 0 ">#}
                            {#<iframe   style="max-width: 100%;max-height: 100%;width: 100%; height:200px;" src="{{ Technique.youtube }}?rel=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>#}
                        {#</div>#}

                        {#<div class="col-md-7">#}
                            {#<h4 class="name">{{ Technique.Nom }}</h4>#}
                            {#<h6 class="name"><strong>Date :</strong> 2009</h6>#}
                            {#<p class="description" style="font-size: 13px;">{{ Technique.Description|raw|slice(0, 62) }}</p>#}
                        {#</div>#}
                    {#</div>#}
                {#</div>#}
                {#{% if Technique.Nom %}#}
                {#<div class="col-md-6 col-sm-6 col-xs-12">#}
                    {#<div class="technique__video__container">#}
                        {#<iframe style="max-width: 100%;max-height: 100%;width: 100%; height:200px;" src="{{ Technique.youtube }}?rel=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>#}
                    {#</div>#}
                    {#<div class="technique__info__container">#}
                        {#<h4 class="name">{{ Technique.Nom }}</h4>#}
                        {#<p class="name"><strong>Date :</strong> 2009</p>#}
                        {#<p class="description" title="{{ Technique.Description }}">{{ Technique.Description|raw|slice(0, 124) }}...</p>#}
                        {#<p ><strong>Mot clés :</strong></p>#}
                    {#</div>#}
                {#</div>#}
                {#{% endif %}#}
            {#{% endfor %}#}


        {#</div>#}

        {#<div id="legislatives_tab_container">#}

            {#{% for Legislative in Legislatives %}#}

                {#<div class="col-md-6 col-sm-6 col-xs-12">#}
                    {#<div class="listing">#}
                        {#<h4><a target="_blank" href="{{ Legislative.Fichier }}">{{ Legislative.Nom }}</a></h4>#}
                        {#<div class="type">#}
                            {#<a target="_blank" href="{{ Legislative.Fichier }}">#}
                                {#<img src="{{ Legislative.Image|replace({'app_dev.php': ''}) }}" title="Lire le document">#}

                                {#<span style="position: absolute; top: 10px; left: 12px; color: red; right: 10px; font-size: 12px; font-weight: 600;">PDF</span>#}
                            {#</a>#}
                        {#</div>#}
                        {#<p><strong>Date de publication :</strong> 2018</p>#}
                        {#<div class="details" style="margin-top: 20px;">#}
                            {#<p><strong>Description : </strong>{{ Legislative.Description|raw|slice(0, 62) }}</p>#}
                            {#<p><strong>Mots clés :</strong>#}
                                {#{% for keyword in Legislative.keyword %}#}
                                {#{{ keyword.label }},#}
                                {#{% endfor %}#}
                            {#</p>#}
                        {#</div>#}
                        {#<div class="card-footer">#}
                            {#<p class="card-text text-right"><a target="_blank" href="{{ Legislative.Fichier }}">{{ 'elearningPage.Access to this file'|trans }}</a></p>#}
                        {#</div>#}
                    {#</div>#}
                {#</div>#}
            {#{% endfor %}#}

        {#</div>#}
    </div>


{% endblock %}

{% block javascripts %}

    <script>
    {% for key, elearningCategorie in elearningCategories %}

            jQuery('#{{ elearningCategorie.nom }}_tab').click(function () {

                jQuery('._tab__container').css('display', 'none');
                jQuery('#{{ elearningCategorie.nom }}_tab_container').css('display', 'block');
                jQuery('.header__tabs').removeClass('active');
                jQuery('#{{ elearningCategorie.nom }}_tab').addClass('active');


            });


    {% endfor %}
    </script>
{% endblock %}